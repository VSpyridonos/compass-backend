<!DOCTYPE html>
<html>

<head>
    <title>Simple Map</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="stylesheets/index.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>

    <script>
        let map;

        function initMap() {
            map = new google.maps.Map(document.getElementById("map"), {
                center: { lat: 39.6655, lng: 20.8559 },
                zoom: 12,
            });
        }
    </script>
</head>

<body>
    <div>
        <h1>All Tours</h1>
        <div id="map"></div>

        <div id="user-info">
            <% for (let user of users) { %>
                <h2>
                    User: <%= user.username%>
                </h2>
                <% if (user.measurements) { %>
                    <h3>
                        Last Tour:
                    </h3>
                    <% for (let measurement of user.measurements) { %>

                        <h4>Measurement <%= user.measurements.indexOf(measurement) + 1 %>:</h4>
                        <h5>
                            X: <%= measurement.xHatNew[0] %>
                        </h5>

                        <h5>
                            Y: <%= measurement.xHatNew[1] %>
                        </h5>

                        <% } %>
                            <% } %>
                                <br>
                                <hr>
                                <% } %>


        </div>
    </div>

    <div class="container-flex">

        <nav id="sidebarMenu">
            <div class="position-sticky pt-3">
                <h5 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                    <span>Κατηγορίες Προϊόντων</span>
                </h5>
                <hr>

                <ul class="nav flex-column">

                    <li class="nav-item mb-1">
                        <a href="#" class="dropdown-toggle nounderline ml-3" data-toggle="dropdown"
                            aria-expanded="false">
                            Φρούτα & Λαχανικά
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="/categories/Φρούτα & Λαχανικά">Όλα τα
                                    προϊόντα</a>
                            </li>
                            <li><a class="dropdown-item" href="/categories/Φρούτα">Φρούτα</a></li>
                            <li><a class="dropdown-item" href="/categories/Λαχανικά">Λαχανικά</a>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item my-1">
                        <a href="#" class="dropdown-toggle nounderline ml-3" data-toggle="dropdown"
                            aria-expanded="false">
                            Γαλακτοκομικά & Είδη Ψυγείου
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="/categories/Γαλακτοκομικά & Είδη Ψυγείου">Όλα τα
                                    προϊόντα</a></li>
                            <li><a class="dropdown-item" href="/categories/Αυγά">Αυγά</a></li>
                            <li><a class="dropdown-item" href="/categories/Γάλατα">Γάλατα</a></li>
                            <li><a class="dropdown-item" href="/categories/Γιαούρτια">Γιαούρτια</a>
                            </li>
                            <li><a class="dropdown-item" href="/categories/Κρέμες & Επιδόρπια Ψυγείου">Κρέμες &
                                    Επιδόρπια
                                    Ψυγείου</a></li>
                            <li><a class="dropdown-item" href="/categories/Βούτυρα & Μαργαρίνες">Βούτυρα &
                                    Μαργαρίνες</a>
                            </li>
                            <li><a class="dropdown-item" href="/categories/Χυμοί, Αναψυκτικά & Τσάι">Νερά, Χυμοί,
                                    Αναψυκτικά
                                    &
                                    Τσάι</a></li>
                        </ul>
                    </li>

                    <li class="nav-item my-1">
                        <a href="#" class="dropdown-toggle nounderline ml-3" data-toggle="dropdown"
                            aria-expanded="false">
                            Τυροκομικά
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="/categories/Τυροκομικά">Όλα τα
                                    προϊόντα</a></li>
                            <li><a class="dropdown-item" href="/categories/Φέτα & Λευκά Τυριά">Φέτα
                                    & Λευκά Τυριά</a></li>
                            <li><a class="dropdown-item" href="/categories/Μαλακά Τυριά">Μαλακά
                                    Τυριά</a></li>
                            <li><a class="dropdown-item" href="/categories/Ημίσκληρα Τυριά">Ημίσκληρα Τυριά</a>
                            </li>
                            <li><a class="dropdown-item" href="/categories/Σκληρά Τυριά">Σκληρά
                                    Τυριά</a></li>
                            <li><a class="dropdown-item" href="/categories/Αλειφόμενα & Μίνι Τυριά">Αλειφόμενα &
                                    Μίνι
                                    Τυριά</a>
                            </li>
                            <li><a class="dropdown-item" href="/categories/Φυτικά Αναπληρώματα Τυριού">Φυτικά
                                    Αναπληρώματα
                                    Τυριού</a></li>
                        </ul>
                    </li>



                </ul>



            </div>
        </nav>
    </div>


    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
    <script src="https://maps.googleapis.com/maps/api/js?key=<%= googleMapsKey %>&callback=initMap&libraries=&v=weekly"
        async></script>
</body>

</html>